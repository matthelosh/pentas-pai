import{p as w,r as m,K as P,c as d,a as _,u as c,w as A,F as h,o as p,Z as B,b as a,e as b,l as u,_ as j,j as y,O as k,t as o}from"./app-01791401.js";import{_ as C}from"./Dash-4feebf60.js";import{S as L,m as N}from"./mdi-c4c90586.js";import"./_plugin-vue_export-helper-c27b6911.js";const E=["Penasehat","Penanggung Jawab","Ketua","Wakil Ketua","Sekretaris 1","Sekretaris 2","Bendahara 1","Bendahara 2","Sie Lomba MTQ","Sie Lomba MHQ","Sie Lomba Pildacil","Sie Lomba Banjari","Sie Lomba Adzan","Sie Lomba Cerdas-Cermat","Sie Dokumentasi","Sie Perlengkapan","Sie Konsumsi","Sie Pembantu Umum"],D={class:"w-full bg-white rouded shadow"},J={class:"toolbar bg-white sticky top-0 flex items-center justify-between p-3 h-12 shadow print:hidden"},M={class:"toolbar-title text-lg font-bold flex items-center gap-1"},O={class:"table table-responsive w-full"},T={class:"border border-collapse w-full"},I=a("caption",{class:"text-xl text-center my-4 w-full"},"DATA USERNAME PANITIA",-1),K=a("thead",null,[a("tr",{class:"bg-gray-100"},[a("th",{class:"py-2 px-3"},"No"),a("th",{class:"py-2 px-3"},"NIP"),a("th",{class:"py-2 px-3"},"Nama"),a("th",{class:"py-2 px-3"},"JK"),a("th",{class:"py-2 px-3"},"Sekolah"),a("th",{class:"py-2 px-3"},"Jabatan")])],-1),Q={class:"text-center py-1 px-3"},V={class:"py-1 px-3"},z={class:"py-1 px-3"},$={class:"text-teal-800"},q={class:"py-1 px-3"},F={class:"py-1 px-3"},H={class:"py-1 px-3"},R=["onChange"],U=a("option",{value:"0"},"Pilih Jabatan",-1),W=["value","selected"],ta={__name:"Panitia",setup(Z){const x=w(()=>j(()=>import("./AlertBox-2fdc7126.js"),["assets/AlertBox-2fdc7126.js","assets/app-01791401.js","assets/app-8586ea4a.css","assets/mdi-c4c90586.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/mdi-3ea76a33.css"])),f=m(!1),r=m(null),g=P(),v=async(i,l)=>{f.value=!0;let t=i.target.value,e=null;if(t.includes("Sie Lomba")){let s=t.split(" ");switch(s[-s.length]){case"MTQ":e="mtq";break;case"MHQ":e="mhq";break;case"Pildacil":e="pdc";break;case"Banjari":e="bjr";break;case"Adzan":e="adz";break;case"Cerdas-Cermat":e="lcc";break}}let n={guru_id:l.id,lomba_id:e,jabatan:t,id:l.panitias.length>0?l.panitias[0].id:null,user_id:l.panitias.length>0?l.panitias[0].user_id:null};await y.post(route("panitia.store"),{data:JSON.stringify(n)}).then(s=>{s.data.status=="ok"&&(r.value.open("Ok",s.data.msg),k.reload({only:["gurus"]}))}).catch(s=>{r.value.open("Error",s.response.data.msg)})},S=async()=>{y.post(route("panitia.account.make")).then(i=>{r.value.open("Ok",i.data.msg),k.reload({only:["gurus"]})}).catch(i=>{r.value.open("Error",i.response.data.msg)})};return(i,l)=>(p(),d(h,null,[_(c(x),{ref_key:"alertBox",ref:r},null,512),_(c(B),{title:"Data Panitia"}),_(C,null,{default:A(()=>[a("div",D,[a("div",J,[a("div",M,[_(c(L),{type:"mdi",path:c(N)},null,8,["path"]),b(" Data Panitia ")]),a("div",{class:"toolbar-items flex items-center gap-1"},[a("button",{class:"bg-sky-600 hover:bg-sky-800 active:bg-sky-200 active:text-gray-800 py-2 px-3 text-white rounded-md",onClick:S}," Buat Akun ")])]),a("div",O,[a("table",T,[I,K,a("tbody",null,[(p(!0),d(h,null,u(c(g).props.gurus,(t,e)=>(p(),d("tr",{class:"odd:bg-gray-50",key:t},[a("td",Q,o(e+1),1),a("td",V,o(t.nip),1),a("td",z,[b(o(t.nama)+" ",1),a("span",$,o(t.panitias.length>0?`[${t.panitias[0].user.name}]`:""),1)]),a("td",q,o(t.jk),1),a("td",F,o(t.sekolah?t.sekolah.nama:"-"),1),a("td",H,[a("select",{name:"jabatan",id:"jabatanSelect",onChange:n=>v(n,t)},[U,(p(!0),d(h,null,u(c(E),(n,s)=>(p(),d("option",{key:s,value:n,selected:t.panitias.length>0&&n==t.panitias[0].jabatan},o(n),9,W))),128))],40,R)])]))),128))])])])])]),_:1})],64))}};export{ta as default};
