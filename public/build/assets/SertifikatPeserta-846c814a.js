import{n as P,K as S,r as b,j as C,o as i,c as n,a as c,u as r,Z as I,b as t,t as a,e as d,F as _,l as N,i as y,E as L}from"./app-01791401.js";import{l as j,P as B,X as $}from"./mdi-c4c90586.js";import{i as M}from"./vue-qrcode.esm-3546f055.js";import{i as V}from"./misc-66c4e50d.js";import"./_plugin-vue_export-helper-c27b6911.js";const D={class:"w-full bg-white"},G={class:"toolbar w-full h-12 bg-white flex items-center justify-between p-3 shadow sticky top-0 z-10 print:hidden"},q={class:"toolbar-title"},A={class:"toolbar-items flex items-center gap-2"},F={class:"content"},W={key:0,class:"table w-full bg-white border border-collapse"},z={class:"text-xl my-4"},E=t("thead",null,[t("tr",{class:"bg-gray-200"},[t("th",{class:"py-2 px-3 text-gray-800 border-e border-gray-400"},"No"),t("th",{class:"py-2 px-3 text-gray-800 border-e border-gray-400"},"NISN"),t("th",{class:"py-2 px-3 text-gray-800 border-e border-gray-400"},"Nama"),t("th",{class:"py-2 px-3 text-gray-800 border-e border-gray-400"},"JK"),t("th",{class:"py-2 px-3 text-gray-800 border-e border-gray-400"},"Bidang Lomba"),t("th",{class:"py-2 px-3 text-gray-800 print:hidden"},"Opsi")])],-1),O={class:"text-center py-1 px-2 border-e border-gray-400"},T={class:"py-1 px-2 border-e border-gray-400"},X={class:"py-1 px-2 border-e border-gray-400"},H={class:"py-1 px-2 border-e border-gray-400"},J={class:"py-1 px-2 border-e border-gray-400 text-center"},U={class:"py-1 px-2 print:hidden text-center"},Z=["onClick"],Q={key:1,class:"paper mx-auto print:m-0 bg-white bg-[url('/img/piagam-peserta.jpg')] bg-cover h-[210mm] w-[297mm] p-10 relative break-after-page print:shadow-none rounded"},R=t("img",{src:"/img/kkgpaimalangkab.png",alt:"Logo KKG",class:"absolute h-20"},null,-1),Y=t("img",{src:"/img/logo.png",alt:"Logo KKG",class:"absolute left-32 mt-4 w-20"},null,-1),tt=t("h1",{style:{"font-family":"Dancing Script!important"},class:"text-6xl text-center mt-20"},"Sertifikat",-1),et=t("h2",{class:"text-center mt-6 text-xl"},"Diberikan Kepada:",-1),at={class:"flex justify-center items-end w-10/12 mx-auto gap-4"},st=["src"],ot={class:"bio"},rt={class:"nama text-[3.2rem] mt-4 capitalize",style:{"font-family":"Pacifico!important"}},lt={class:"sekolah text-xl mt-4"},it=t("h4",{class:"peringkat text-4xl mt-4"},"Sebagai Peserta",-1),nt={class:"mt-4 mx-20"},ct={class:"font-extrabold"},dt={class:"font-extrabold"},pt=L('<div class="grid grid-cols-3 w-10/12 mx-auto"><div class="relative"><p class="text-center mt-14">Ketua KKG PAI Kec. Wagir</p><img src="/img/stempel.png" alt="Stempel" class="absolute h-32 left-[10%] -translate-y-4 mix-blend-multiply"><img src="/img/ttd-kkg.png" alt="Ketua" class="left-[50%] h-16 mix-blend-multiply absolute -translate-x-8"><p class="text-center underline font-extrabold mt-14">Hasan Lutfi, S.PdI., M. PdI.</p><p class="text-center">NIP. 19760115 200501 1 002</p></div><div></div><div class="relative"><p class="text-center mt-8">Wagir, 16 Mei 2023</p><p class="text-center">Ketua Panitia</p><img src="/img/ttd-ketua.png" alt="Ketua" class="left-[50%] h-20 mix-blend-multiply absolute -translate-x-10"><p class="text-center underline font-extrabold mt-14">Choiri Machmudi, S. Ag., M. Pd.</p><p class="text-center">NIP. 19760115 200501 1 002</p></div></div>',1),gt={class:"absolute bottom-2 left-6 print:relative"},bt=t("span",{class:"text-teal-800 bg-white bg-opacity-50"},"https://pentaspais.kkgpaiwagir.or.id",-1),kt={__name:"SertifikatPeserta",props:{lomba:Object},setup(p){const m=p;P(()=>{k()});const h=S(),g=b("list"),u=b(""),k=async()=>{await C.post(route("dashboard.peserta.index",{_query:{bidang:m.lomba.kode}})).then(e=>{u.value=e.data.pesertas.filter(s=>h.props.auth.user.level=="admin"?s:s.sekolah_id==h.props.sekolahs[0].npsn)})},l=b({}),v=e=>{let s=e.bidangs.filter(o=>o.kode==m.lomba.kode);return e.bidangs.length>0?s[0]:"Tidak Ikut lomba"},f=e=>{g.value="cetak",l.value=e},w=()=>{window.print()},K=e=>e.toLowerCase();return(e,s)=>(i(),n(_,null,[c(r(I),{title:"Sertifikat Peserta"}),t("div",D,[t("div",G,[t("span",q," Sertifikat Peserta Lomba "+a(p.lomba.label),1),t("div",A,[t("button",{class:"bg-sky-400 hover:bg-sky-600 active:bg-orange-400 text-white flex gap-1 items-center py-1 px-2 rounded",onClick:s[0]||(s[0]=o=>g.value="list")},[d(" Lihat "),c(r(j),{class:"h-8"})]),t("button",{class:"bg-sky-400 hover:bg-sky-600 active:bg-orange-400 text-white flex gap-1 items-center py-1 px-2 rounded",onClick:w},[d(" Cetak "),c(r(B),{class:"h-8"})]),t("button",{class:"bg-red-400 hover:bg-red-600 active:bg-orange-400 text-white aspect-square rounded-full",onClick:s[1]||(s[1]=o=>e.$emit("close"))},[c(r($),{class:"h-8"})])])]),t("div",F,[g.value=="list"?(i(),n("table",W,[t("caption",z,"Data Peserta Bidang Lomba "+a(p.lomba.label),1),E,t("tbody",null,[(i(!0),n(_,null,N(u.value,(o,x)=>(i(),n("tr",{class:"odd:bg-gray-100",key:x},[t("td",O,a(x+1),1),t("td",T,a(o.nisn),1),t("td",X,a(o.nama),1),t("td",H,a(o.jk),1),t("td",J,a(v(o).label),1),t("td",U,[t("button",{class:"py-1 px-2 rounded hover:bg-green-600 active:bg-orange-400 bg-green-400 text-white",onClick:mt=>f(o)},"Cetak",8,Z)])]))),128))])])):y("",!0),g.value=="cetak"?(i(),n("div",Q,[R,Y,tt,et,t("div",at,[t("img",{src:r(V)(l.value.foto),alt:"Foto",class:"aspect-square border-4 border-gray-800 rounded-full h-40"},null,8,st),t("div",ot,[t("h1",rt,a(K(l.value.nama)),1),t("h4",lt,a(l.value.sekolah.nama),1),it])]),t("p",nt,[d("dalam perlombaan "),t("span",ct,a(p.lomba.label),1),d(" pada kegiatan "),t("span",dt,a(e.$page.props.lomba.label),1),d(" yang diselenggarakan oleh KKG PAI Kecamatan Wagir. Semoga dapat menjadi motivasi di masa depan.")]),pt,t("div",gt,[c(r(M),{value:`https://pentaspais.kkgpaiwagir.or.id/verifikasi/sertifikat?id=${l.value.nisn}`,options:{width:75},class:"shadow"},null,8,["value"]),bt])])):y("",!0)])])],64))}};export{kt as default};
